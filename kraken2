============================== Instalation Kraken2 ==============================

# using conda 
conda install bioconda::kraken2

# verify intalation 
kraken2 --version 

============================== create enviroment ==============================
# with kraken2 and SRAtoolkit
conda create -n kraken_env -c bioconda -c conda-forge -c defaults kraken2 sra-tools

#activate enviroment
conda activate kraken_env

============================== download mini kraken database ==============================
# this version is smaller, 8GB 
wget https://genome-idx.s3.amazonaws.com/kraken/minikraken2_v2_8GB_201904.tgz

# unzip .tgz file
tar -xvzf minikraken2_v2_8GB_201904.tgz

============================== download sequences ==============================
# download SRR sequences using SRAToolkit
prefetch --option-file secuencias_mg_1.txt

#convert to fastq files
fasterq-dump *.sra -O fastq_output_mg1/ --split-files

#zip files 

kraken2 --db /home/samaria/metagenomas_sequences/kraken2_db/minikraken2_v2_8GB_201904_UPDATE \
  --paired \
  --gzip-compressed \
  --report /home/samaria/metagenomas_sequences/kraken_reports1/SRR12802543_report.txt \
  --output /home/samaria/metagenomas_sequences/kraken_output1/SRR12802543_kraken.txt \
  /home/samaria/metagenomas_sequences/fastq_output_mg1/SRR12802543_1.fastq.gz \
  /home/samaria/metagenomas_sequences/fastq_output_mg1/SRR12802543_2.fastq.gz


kraken2 --db /home/samaria/metagenomas_sequences/kraken2_db/minikraken2_v2_8GB_201904_UPDATE \
  --paired \
  --gzip-compressed \
  --report /home/samaria/metagenomas_sequences/kraken_reports1/SRR12802545_report.txt \
  --output /home/samaria/metagenomas_sequences/kraken_output1/SRR12802545_kraken.txt \
  /home/samaria/metagenomas_sequences/fastq_output_mg1/SRR12802545_1.fastq.gz \
  /home/samaria/metagenomas_sequences/fastq_output_mg1/SRR12802545_2.fastq.gz
